(()=>{"use strict";var e={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},t=document.getElementById("open_popup"),n=(document.querySelector(".profile__image"),document.querySelector(".profile__info-name"),document.querySelector(".profile__info-description"),document.querySelector(".profile__image-container")),r=document.querySelector(".profile__button-add"),o=document.querySelector(".popup__input_name"),i=document.querySelector(".popup__input_description"),u=(document.querySelector(".popup__input-avatar"),document.querySelector(".popup_edit-profile")),c=document.querySelector(".popup_edit-avatar"),a=document.querySelector(".popup_add-card");function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}document.querySelector(".popup_delete-card"),document.querySelector(".element__delete");var l=function(){function e(t,n){var r=t.likes,o=void 0===r?[]:r,i=t._id,u=t.name,c=t.link,a=t.owner,s=void 0===a?{}:a,l=t.userId,f=t.handleCardClick,p=t.deleteCard,h=t.handleCardLike;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._likesMassive=o,this._cardId=i,this._name=u,this._link=c,this._ownerId=s._id,this._currentUserId=l,this._handleCardClick=f,this._deleteCard=p,this._handleCardLike=h,this._templateSelector=n}var t,n;return t=e,(n=[{key:"_checkCardOwner",value:function(){this._ownerId!==this._currentUserId&&this._deleteButton.remove()}},{key:"_isItLiked",value:function(){var e=this;return this._likesMassive.find((function(t){return t._id===e._currentUserId}))}},{key:"_showLikesAmount",value:function(e){this._likesAmount.textContent=e.length}},{key:"renderLikes",value:function(e){this.setLikes(e),this._showLikesAmount(this._likesMassive),this._isItLiked()?this._likeButton.classList.add("like_active"):this._likeButton.classList.remove("like_active")}},{key:"getId",value:function(){return this._cardId}},{key:"getLikes",value:function(){return this._likesMassive}},{key:"setLikes",value:function(e){this._likesMassive=e}},{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".element").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._likeButton=this._element.querySelector(".element__main-like"),this._deleteButton=this._element.querySelector(".element__delete"),this._elementImage=this._element.querySelector(".element__image"),this._elementTitle=this._element.querySelector(".element__main-name"),this._likesAmount=this._element.querySelector(".element__main-likes"),this._elementTitle.textContent=this._name,this._elementImage.src=this._link,this._elementImage.alt=this._name,this._checkCardOwner(),this.renderLikes(this._likesMassive),this._setEventListeners(),this._element}},{key:"_toggleLike",value:function(){this._likeButton.classList.toggle("like_active")}},{key:"deleteCard",value:function(){this._element.remove(),this._element=null}},{key:"_setEventListeners",value:function(){var e=this;this._likeButton.addEventListener("click",(function(){return e._handleCardLike()})),this._deleteButton.addEventListener("click",(function(){return e._deleteCard(e._cardId)})),this._elementImage.addEventListener("click",(function(){return e._handleCardClick(e._name,e._link)}))}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._formElement=n,this._buttonElement=this._formElement.querySelector(this._submitButtonSelector),this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector))}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e,t){var n=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),n.textContent=t,n.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}},{key:"_checkInputValidity",value:function(e){if(e.validity.valid)this._hideInputError(e);else{var t=e.validationMessage;this._showInputError(e,t)}}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"disableSubmitButton",value:function(){this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0}},{key:"_enableSubmitButton",value:function(){this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this.disableSubmitButton():this._enableSubmitButton()}},{key:"_setEventListeners",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"resetErrors",value:function(){var e=this;this._inputList.forEach((function(t){e._hideInputError(t)}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.reverse().forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&h(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(t){var n=t.nameSelector,r=t.descriptionSelector,o=t.avatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._description=document.querySelector(r),this._avatar=document.querySelector(o),this._id=""}var t,n;return t=e,(n=[{key:"getUserId",value:function(){return this._id}},{key:"getUserInfo",value:function(){return{name:this._name.textContent,description:this._description.textContent,avatar:this._avatar.src}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about,r=e.avatar,o=e._id;t&&(this._name.textContent=t),n&&(this._description.textContent=n),r&&(this._avatar.src=r),o&&(this._id=o)}}])&&_(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_active"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_active"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"_handleOverlayClose",value:function(e){e.target===e.currentTarget&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupCloseButton=this._popup.querySelector(".popup__close-icon"),this._popupCloseButton.addEventListener("click",(function(){e.close()})),this._popup.addEventListener("mousedown",(function(t){e._handleOverlayClose(t)}))}}])&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=S(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},g.apply(this,arguments)}function S(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function E(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(r);if(o){var n=O(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)});function u(e){var t,n=e.popupSelector,r=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,n))._handleFormSubmit=r,t._form=t._popup.querySelector(".popup__form"),t._buttonPopupSubmit=t._form.querySelector(".popup__button"),t._inputList=t._form.querySelectorAll(".popup__input"),t}return t=u,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formList={},this._inputList.forEach((function(t){e._formList[t.name]=t.value})),this._formList}},{key:"setEventListeners",value:function(){var e=this;g(O(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())}))}},{key:"toggleStatus",value:function(e){this._buttonPopupSubmit.textContent=e?"Сохранение...":"Сохранить"}},{key:"close",value:function(){g(O(u.prototype),"close",this).call(this),this._form.reset()}}])&&k(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(m);function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(){return I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=P(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},I.apply(this,arguments)}function P(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}function q(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=R(r);if(o){var n=R(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return q(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._image=t._popup.querySelector(".popup__image"),t._descriptionImage=t._popup.querySelector(".popup__description"),t}return t=u,(n=[{key:"open",value:function(e,t){I(R(u.prototype),"open",this).call(this),this._image.src=t,this._image.alt=e,this._descriptionImage.textContent=e}}])&&j(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(m);function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x=function(){function e(t){var n=t.url,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=n,this._headers=r}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return fetch("".concat(this._url,"/users/me"),{method:"GET",headers:this._headers}).then(this._checkResponse)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._url,"/cards"),{method:"GET",headers:this._headers}).then(this._checkResponse)}},{key:"editProfile",value:function(e){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.description})}).then(this._checkResponse)}},{key:"addNewElement",value:function(e){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.elementTitle,link:e.elementLink})}).then(this._checkResponse)}},{key:"deleteElement",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"setLike",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"PUT",headers:this._headers}).then(this._checkResponse)}},{key:"removeLike",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"editAvatar",value:function(e){return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._checkResponse)}},{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Ошибка ".concat(e.status))}}])&&A(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(){return M="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=V(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},M.apply(this,arguments)}function V(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=J(e)););return e}function F(e,t){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},F(e,t)}function N(e,t){if(t&&("object"===U(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function J(e){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},J(e)}var G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=J(r);if(o){var n=J(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return N(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._popupButton=t._popup.querySelector(".popup__button"),t}return t=u,(n=[{key:"setConfirmAction",value:function(e){this._confirmDeleteCallback=e}},{key:"setEventListeners",value:function(){var e=this;M(J(u.prototype),"setEventListeners",this).call(this),this._popupButton.addEventListener("click",(function(){e._confirmDeleteCallback()}))}},{key:"toggleStatus",value:function(e){this._popupButton.textContent=e?"Удаление...":"Да"}}])&&D(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(m);function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z=new x({url:"https://mesto.nomoreparties.co/v1/cohort-54",headers:{authorization:"f4235ef4-85b7-4215-be28-8acef2d83ac1","Content-Type":"application/json"}}),$=new y({nameSelector:".profile__info-name",descriptionSelector:".profile__info-description",avatarSelector:".profile__image"}),K=new C({popupSelector:".popup_edit-profile",handleFormSubmit:function(e){var t=e.name,n=e.description;K.toggleStatus(!0),z.editProfile({name:t,description:n}).then((function(e){$.setUserInfo(e),K.close()})).catch((function(e){console.log("Ошибка ".concat(e))})).finally((function(){K.toggleStatus(!1)}))}});K.setEventListeners();var Q=new C({popupSelector:".popup_add-card",handleFormSubmit:function(e){var t=e.elementTitle,n=e.elementLink;Q.toggleStatus(!0),z.addNewElement({elementTitle:t,elementLink:n}).then((function(e){ee.addItem(Z(e)),Q.close()})).catch((function(e){console.log("Ошибка добавления карточки: ".concat(e))})).finally((function(){Q.toggleStatus(!1)}))}});Q.setEventListeners();var W=new C({popupSelector:".popup_edit-avatar",handleFormSubmit:function(e){var t=e.avatar;W.toggleStatus(!0),z.editAvatar(t).then((function(e){$.setUserInfo(e),W.close()})).catch((function(e){console.log("Ошибка редактирования аватара: ".concat(e))})).finally((function(){W.toggleStatus(!1)}))}});W.setEventListeners();var X=new G(".popup_delete-card");X.setEventListeners();var Y=new T(".popup_card");Y.setEventListeners();var Z=function(e){var t=e.likes,n=e._id,r=e.name,o=e.link,i=e.owner,u=new l({likes:t,_id:n,name:r,link:o,owner:i,userId:$.getUserId(),handleCardClick:function(e,t){Y.open(e,t)},deleteCard:function(e){X.open(),X.setConfirmAction((function(){X.toggleStatus(!0),z.deleteElement(e).then((function(){u.deleteCard(),X.close()})).catch((function(e){console.log("Ошибка удаления карточки: ".concat(e))})).finally((function(){X.toggleStatus(!1)}))}))},handleCardLike:function(){var e=u.getLikes().find((function(e){return e._id===$._id}));e?z.removeLike(u.getId()).then((function(e){u.renderLikes(e.likes)})).catch((function(e){console.log("Ошибка удаления лайка: ".concat(e))})):z.setLike(u.getId()).then((function(e){u.renderLikes(e.likes)})).catch((function(e){console.log("Ошибка постановки лайка: ".concat(e))}))}},".template");return u.generateCard()},ee=new d({renderer:function(e){ee.addItem(Z(e))}},".elements");Promise.all([z.getUserInfo(),z.getInitialCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,c=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];o._id,$.setUserInfo(o),ee.renderItems(i)})).catch((function(e){console.log("Ошибка ".concat(e))})),t.addEventListener("click",(function(){var e=$.getUserInfo();o.value=e.name,i.value=e.description,K.open(),te.resetErrors(),te.disableSubmitButton()})),n.addEventListener("click",(function(){W.open(),ne.resetErrors(),ne.disableSubmitButton()})),r.addEventListener("click",(function(){Q.open(),re.resetErrors(),re.disableSubmitButton()}));var te=new p(e,u);te.enableValidation();var ne=new p(e,c);ne.enableValidation();var re=new p(e,a);re.enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQWNqRSxFQUFrQmlCLEdBQ25Fc00sR0FBdUJDLGtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9ICh7XHJcbiAgICBmb3JtU2VsZWN0b3I6ICcucG9wdXBfX2Zvcm0nLFxyXG4gICAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9faW5wdXQnLFxyXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX2J1dHRvbicsXHJcbiAgICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX2J1dHRvbl9kaXNhYmxlZCcsXHJcbiAgICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfdHlwZV9lcnJvcicsXHJcbiAgICBlcnJvckNsYXNzOiAncG9wdXBfX2Vycm9yX3Zpc2libGUnXHJcbn0pOyBcclxuXHJcbmV4cG9ydCBjb25zdCBidXR0b25Qcm9maWxlUG9wdXBPcGVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wZW5fcG9wdXAnKTtcclxuZXhwb3J0IGNvbnN0IGF2YXRhckltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2ltYWdlJyk7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19pbmZvLW5hbWUnKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19pbmZvLWRlc2NyaXB0aW9uJyk7XHJcbmV4cG9ydCBjb25zdCBidXR0b25BdmF0YXJQb3B1cE9wZW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9faW1hZ2UtY29udGFpbmVyJyk7XHJcbmV4cG9ydCBjb25zdCBidXR0b25BZGRDYXJkUG9wdXBPcGVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2J1dHRvbi1hZGQnKTtcclxuZXhwb3J0IGNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfbmFtZScpO1xyXG5leHBvcnQgY29uc3QgZGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfZGVzY3JpcHRpb24nKTtcclxuZXhwb3J0IGNvbnN0IGF2YXRhcklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dC1hdmF0YXInKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9lZGl0LXByb2ZpbGUnKTtcclxuZXhwb3J0IGNvbnN0IGF2YXRhclBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2VkaXQtYXZhdGFyJyk7XHJcbmV4cG9ydCBjb25zdCBuZXdDYXJkUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfYWRkLWNhcmQnKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwRGVsZXRlQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9kZWxldGUtY2FyZCcpXHJcbmV4cG9ydCBjb25zdCBidXR0b25DYXJkRGVsZXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2RlbGV0ZScpXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gICAgY29uc3RydWN0b3IoeyBsaWtlcyA9IFtdLCBfaWQsIG5hbWUsIGxpbmssIG93bmVyID0ge30sIHVzZXJJZCwgaGFuZGxlQ2FyZENsaWNrLCBkZWxldGVDYXJkLCBoYW5kbGVDYXJkTGlrZSB9LCB0ZW1wbGF0ZVNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fbGlrZXNNYXNzaXZlID0gbGlrZXM7IFxyXG4gICAgICAgIHRoaXMuX2NhcmRJZCA9IF9pZDtcclxuICAgICAgICB0aGlzLl9uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLl9saW5rID0gbGluaztcclxuICAgICAgICB0aGlzLl9vd25lcklkID0gb3duZXIuX2lkO1xyXG4gICAgICAgIHRoaXMuX2N1cnJlbnRVc2VySWQgPSB1c2VySWQ7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xyXG4gICAgICAgIHRoaXMuX2RlbGV0ZUNhcmQgPSBkZWxldGVDYXJkO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmRMaWtlID0gaGFuZGxlQ2FyZExpa2U7XHJcblxyXG4gICAgICAgIHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IgPSB0ZW1wbGF0ZVNlbGVjdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIF9jaGVja0NhcmRPd25lcigpIHtcclxuICAgICAgICBpZiAodGhpcy5fb3duZXJJZCAhPT0gdGhpcy5fY3VycmVudFVzZXJJZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9kZWxldGVCdXR0b24ucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9pc0l0TGlrZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpa2VzTWFzc2l2ZVxyXG4gICAgICAgIC5maW5kKG93bmVyID0+IG93bmVyLl9pZCA9PT0gdGhpcy5fY3VycmVudFVzZXJJZCk7XHJcbiAgICB9XHJcblxyXG4gICAgX3Nob3dMaWtlc0Ftb3VudChsaWtlcykge1xyXG4gICAgICAgIHRoaXMuX2xpa2VzQW1vdW50LnRleHRDb250ZW50ID0gbGlrZXMubGVuZ3RoO1xyXG4gICAgICB9XHJcblxyXG4gICAgcmVuZGVyTGlrZXMobGlrZXMpIHtcclxuICAgICAgICB0aGlzLnNldExpa2VzKGxpa2VzKTtcclxuICAgICAgICB0aGlzLl9zaG93TGlrZXNBbW91bnQodGhpcy5fbGlrZXNNYXNzaXZlKTtcclxuICAgICAgICBpZiAodGhpcy5faXNJdExpa2VkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdsaWtlX2FjdGl2ZScpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbGlrZV9hY3RpdmUnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhcmRJZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRMaWtlcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbGlrZXNNYXNzaXZlO1xyXG4gICAgfVxyXG5cclxuICAgIHNldExpa2VzKGxpa2VzKSB7XHJcbiAgICAgICAgdGhpcy5fbGlrZXNNYXNzaXZlID0gbGlrZXM7XHJcbiAgICB9XHJcblxyXG4gICAgLy/QsdC10YDQtdC8INGI0LDQsdC70L7QvVxyXG4gICAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAgICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yKVxyXG4gICAgICAgICAgICAuY29udGVudFxyXG4gICAgICAgICAgICAucXVlcnlTZWxlY3RvcignLmVsZW1lbnQnKVxyXG4gICAgICAgICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy/Qs9C10L3QtdGA0LDRhtC40Y8g0LrQsNGA0YLQvtGH0LrQuFxyXG4gICAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19tYWluLWxpa2UnKTtcclxuICAgICAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19kZWxldGUnKTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50SW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19pbWFnZScpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRUaXRsZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX21haW4tbmFtZScpO1xyXG4gICAgICAgIHRoaXMuX2xpa2VzQW1vdW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbWFpbi1saWtlcycpXHJcblxyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5fY2hlY2tDYXJkT3duZXIoKVxyXG4gICAgICAgIHRoaXMucmVuZGVyTGlrZXModGhpcy5fbGlrZXNNYXNzaXZlKVxyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8v0L/QtdGA0LXQutC70Y7Rh9C10L3QuNC1INC70LDQudC60LBcclxuICAgIF90b2dnbGVMaWtlKCkge1xyXG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZSgnbGlrZV9hY3RpdmUnKTtcclxuICAgIH1cclxuXHJcbiAgICAvL9GD0LTQsNC70LXQvdC40LUg0LrQsNGA0YLQvtGH0LrQuFxyXG4gICAgZGVsZXRlQ2FyZCgpIHtcclxuICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8v0YPRgdGC0LDQvdC+0LLQuNGC0Ywg0YHQu9GD0YjQsNGC0LXQu9C4XHJcbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX2hhbmRsZUNhcmRMaWtlKCkpO1xyXG4gICAgICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX2RlbGV0ZUNhcmQodGhpcy5fY2FyZElkKSk7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspKTtcclxuICAgIH1cclxufTsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKGNsYXNzZXMsIGZvcm1FbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGNsYXNzZXMuaW5wdXRTZWxlY3RvcjtcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGNsYXNzZXMuc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICAgICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGNsYXNzZXMuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgICAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBjbGFzc2VzLmlucHV0RXJyb3JDbGFzcztcclxuICAgICAgICB0aGlzLl9lcnJvckNsYXNzID0gY2xhc3Nlcy5lcnJvckNsYXNzO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7IFxyXG4gICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcikpO1xyXG4gICAgfVxyXG5cclxuICAgIC8v0L/QvtC60LDQt9Cw0YLRjCDQvtGI0LjQsdC60YNcclxuICAgIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkgIHtcclxuICAgICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhlcnJvckVsZW1lbnQpO1xyXG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICAgICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvL9GB0LrRgNGL0YLRjFxyXG4gICAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgICAgICBcclxuICAgICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xyXG4gICAgfTtcclxuXHJcbiAgICAvL9C/0YDQvtCy0LXRgNC/0LjRgtGMINCy0LDQu9C40LTQvdC+0YHRgtGMXHJcbiAgICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkgIHtcclxuICAgICAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy/Qv9GA0L7QstC10YDQuNGC0Ywg0L3QsNC70LjRh9C40LUg0L3QtdCy0LDQu9C40LTQvdGL0YUg0L/QvtC70LXQuVxyXG4gICAgX2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8v0LrQvdC+0L/QutCwINC90LXQsNC60YLQuNCy0L3QsFxyXG4gICAgZGlzYWJsZVN1Ym1pdEJ1dHRvbigpIHtcclxuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9O1xyXG5cclxuICAgIC8v0LrQvdC+0L/QutCwINCw0LrRgtC40LLQvdCwXHJcbiAgICBfZW5hYmxlU3VibWl0QnV0dG9uKCkge1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9OyBcclxuICAgIFxyXG4gICAgLy/Qv9C10YDQtdC60LvRjtGH0LXQvdC40LUg0LrQvdC+0L/QutC4XHJcbiAgICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VuYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL9GD0YHRgtCw0L3QvtCy0LjRgtGMINGB0LvRg9GI0LDRgtC10LvQuFxyXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzICgpIHtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpXHJcblxyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudClcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8v0YHQsdGA0L7RgdC40YLRjCDQvtGI0LjQsdC60LhcclxuICAgIHJlc2V0RXJyb3JzKCkge1xyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJJdGVtcyhpdGVtcyl7XHJcbiAgICAgICAgaXRlbXMucmV2ZXJzZSgpLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgICB9XHJcbn07IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gICAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIGRlc2NyaXB0aW9uU2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yIH0pIHtcclxuICAgICAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkZXNjcmlwdGlvblNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9hdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9pZCA9ICcnO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFVzZXJJZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbmFtZTogdGhpcy5fbmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuX2Rlc2NyaXB0aW9uLnRleHRDb250ZW50LFxyXG4gICAgICAgICAgICBhdmF0YXI6IHRoaXMuX2F2YXRhci5zcmNcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQsIGF2YXRhciwgX2lkIH0pIHtcclxuICAgICAgICBpZiAobmFtZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmIChhYm91dCkge1xyXG4gICAgICAgICAgICB0aGlzLl9kZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGFib3V0O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKGF2YXRhcikge1xyXG4gICAgICAgICAgICB0aGlzLl9hdmF0YXIuc3JjID0gYXZhdGFyO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKF9pZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9pZCA9IF9pZDtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59OyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBvcGVuKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX2FjdGl2ZScpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfYWN0aXZlJyk7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIH1cclxuXHJcbiAgICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XHJcbiAgICAgICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIF9oYW5kbGVPdmVybGF5Q2xvc2UoZXZ0KSB7XHJcbiAgICAgICAgaWYgKGV2dC50YXJnZXQgPT09IGV2dC5jdXJyZW50VGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBDbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2UtaWNvbicpO1xyXG5cclxuICAgICAgICB0aGlzLl9wb3B1cENsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVPdmVybGF5Q2xvc2UoZXZ0KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufTsiLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXB7XHJcbiAgICBjb25zdHJ1Y3RvciAoeyBwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0IH0pIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuXHJcbiAgICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcblxyXG4gICAgICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTsgXHJcbiAgICAgICAgdGhpcy5fYnV0dG9uUG9wdXBTdWJtaXQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uJyk7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgICAgIHRoaXMuX2Zvcm1MaXN0ID0ge307XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Zvcm1MaXN0W2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9mb3JtTGlzdDtcclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpe1xyXG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVTdGF0dXMoaXNMb2FkaW5nKSB7XHJcbiAgICAgICAgaWYgKGlzTG9hZGluZykge1xyXG4gICAgICAgICAgICB0aGlzLl9idXR0b25Qb3B1cFN1Ym1pdC50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QtdC90LjQtS4uLic7XHJcbiAgICAgICAgfSBcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fYnV0dG9uUG9wdXBTdWJtaXQudGV4dENvbnRlbnQgPSAn0KHQvtGF0YDQsNC90LjRgtGMJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKXtcclxuICAgICAgICBzdXBlci5jbG9zZSgpXHJcblxyXG4gICAgICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICAgIH1cclxufTsiLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwe1xyXG4gICAgY29uc3RydWN0b3IgKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuXHJcbiAgICAgICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlJyk7XHJcbiAgICAgICAgdGhpcy5fZGVzY3JpcHRpb25JbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZGVzY3JpcHRpb24nKTtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKG5hbWUsIGxpbmspe1xyXG4gICAgICAgIHN1cGVyLm9wZW4oKVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuX2ltYWdlLnNyYyA9IGxpbms7XHJcbiAgICAgICAgdGhpcy5faW1hZ2UuYWx0ID0gbmFtZTtcclxuICAgICAgICB0aGlzLl9kZXNjcmlwdGlvbkltYWdlLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIH1cclxufTsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG5cclxuICBjb25zdHJ1Y3Rvcih7IHVybCwgaGVhZGVycyB9KSB7XHJcbiAgICAgIHRoaXMuX3VybCA9IHVybDtcclxuICAgICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcclxuICB9XHJcblxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHNgLCB7XHJcbiAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcclxuICB9XHJcblxyXG4gIGVkaXRQcm9maWxlKGRhdGEpIHtcclxuICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgIG5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgICAgICAgICBhYm91dDogZGF0YS5kZXNjcmlwdGlvblxyXG4gICAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcclxuICB9XHJcblxyXG4gIGFkZE5ld0VsZW1lbnQoY2FyZERhdGEpIHtcclxuICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHNgLCB7XHJcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgbmFtZTogY2FyZERhdGEuZWxlbWVudFRpdGxlLFxyXG4gICAgICAgICAgICAgIGxpbms6IGNhcmREYXRhLmVsZW1lbnRMaW5rXHJcbiAgICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxyXG4gIH1cclxuXHJcbiAgZGVsZXRlRWxlbWVudChpZCkge1xyXG4gICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2lkfWAsIHtcclxuICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxyXG4gIH1cclxuXHJcbiAgc2V0TGlrZShpZCkge1xyXG4gICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2lkfS9saWtlc2AsIHtcclxuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxyXG4gIH1cclxuXHJcbiAgcmVtb3ZlTGlrZShpZCkge1xyXG4gICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2lkfS9saWtlc2AsIHtcclxuICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxyXG4gIH1cclxuXHJcbiAgZWRpdEF2YXRhcihhdmF0YXIpIHtcclxuICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICBhdmF0YXI6IGF2YXRhcixcclxuICAgICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXHJcbiAgfVxyXG5cclxuICBfY2hlY2tSZXNwb25zZShyZXNwb25zZSkge1xyXG4gICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsCAke3Jlc3BvbnNlLnN0YXR1c31gKTtcclxuICB9XHJcblxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IgKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9wb3B1cEJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uJylcclxuICAgIH1cclxuXHJcbiAgICBzZXRDb25maXJtQWN0aW9uKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdGhpcy5fY29uZmlybURlbGV0ZUNhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICB0aGlzLl9wb3B1cEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fY29uZmlybURlbGV0ZUNhbGxiYWNrKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlU3RhdHVzKGlzTG9hZGluZykge1xyXG4gICAgICAgIGlmIChpc0xvYWRpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5fcG9wdXBCdXR0b24udGV4dENvbnRlbnQgPSAn0KPQtNCw0LvQtdC90LjQtS4uLidcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9wb3B1cEJ1dHRvbi50ZXh0Q29udGVudCA9ICfQlNCwJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyB2YWxpZGF0aW9uQ29uZmlnLCBidXR0b25Qcm9maWxlUG9wdXBPcGVuLCBidXR0b25BdmF0YXJQb3B1cE9wZW4sIGJ1dHRvbkFkZENhcmRQb3B1cE9wZW4sIG5hbWVJbnB1dCwgZGVzY3JpcHRpb25JbnB1dCwgcHJvZmlsZVBvcHVwLCBhdmF0YXJQb3B1cCwgbmV3Q2FyZFBvcHVwfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xyXG5pbXBvcnQgQ2FyZCBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24nO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mbyc7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcclxuaW1wb3J0IEFwaSBmcm9tICcuLi9jb21wb25lbnRzL0FwaS5qcyc7XHJcbmltcG9ydCAnLi9pbmRleC5jc3MnO1xyXG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzJztcclxuXHJcbi8v0YLQvtC60LXQvVxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICB1cmw6IFwiaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC01NFwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiZjQyMzVlZjQtODViNy00MjE1LWJlMjgtOGFjZWYyZDgzYWMxXCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9XHJcbn0pXHJcblxyXG5jb25zdCB1c2VyUGFyYW1ldGVycyA9IG5ldyBVc2VySW5mbyAoe1xyXG4gIG5hbWVTZWxlY3RvcjogJy5wcm9maWxlX19pbmZvLW5hbWUnLFxyXG4gIGRlc2NyaXB0aW9uU2VsZWN0b3I6ICcucHJvZmlsZV9faW5mby1kZXNjcmlwdGlvbicsXHJcbiAgYXZhdGFyU2VsZWN0b3I6ICcucHJvZmlsZV9faW1hZ2UnXHJcbn0pO1xyXG5cclxuLy/RhNGD0L3QutGG0LjRjyDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDQv9GA0L7RhNC40LvRj1xyXG5mdW5jdGlvbiBvcGVuUG9wdXBQcm9maWxlKCkge1xyXG4gIGNvbnN0IHByb2ZpbGVGb3JtID0gdXNlclBhcmFtZXRlcnMuZ2V0VXNlckluZm8oKTtcclxuICBuYW1lSW5wdXQudmFsdWUgPSBwcm9maWxlRm9ybS5uYW1lO1xyXG4gIGRlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBwcm9maWxlRm9ybS5kZXNjcmlwdGlvbjtcclxuICBwcm9maWxlRWRpdFBvcHVwLm9wZW4oKTtcclxuICBwb3B1cFByb2ZpbGVWYWxpZGF0aW9uLnJlc2V0RXJyb3JzKCk7XHJcbiAgcG9wdXBQcm9maWxlVmFsaWRhdGlvbi5kaXNhYmxlU3VibWl0QnV0dG9uKCk7XHJcbn07XHJcblxyXG4vL9GE0YPQvdC60YbQuNGPINC+0YLQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwINC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcclxuZnVuY3Rpb24gb3Blbk5ld0NhcmRQb3B1cCgpIHtcclxuICBwb3B1cEFkZENhcmQub3BlbigpO1xyXG4gIHBvcHVwQWRkQ2FyZFZhbGlkYXRpb24ucmVzZXRFcnJvcnMoKTtcclxuICBwb3B1cEFkZENhcmRWYWxpZGF0aW9uLmRpc2FibGVTdWJtaXRCdXR0b24oKTtcclxufTtcclxuXHJcbi8v0YTRg9C90LrRhtC40Y8g0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAg0LDQstCw0YLQsNGA0LBcclxuZnVuY3Rpb24gb3BlbkF2YXRhclBvcHVwKCkge1xyXG4gIGF2YXRhckVkaXRQb3B1cC5vcGVuKCk7XHJcbiAgcG9wdXBBdmF0YXJWYWxpZGF0aW9uLnJlc2V0RXJyb3JzKCk7XHJcbiAgcG9wdXBBdmF0YXJWYWxpZGF0aW9uLmRpc2FibGVTdWJtaXRCdXR0b24oKTtcclxufVxyXG5cclxuLy/Qv9C+0L/QsNC/INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y9cclxuY29uc3QgcHJvZmlsZUVkaXRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHsgXHJcbiAgcG9wdXBTZWxlY3RvcjogJy5wb3B1cF9lZGl0LXByb2ZpbGUnLFxyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6ICh7IG5hbWUsIGRlc2NyaXB0aW9uIH0pID0+IHtcclxuICAgIHByb2ZpbGVFZGl0UG9wdXAudG9nZ2xlU3RhdHVzKHRydWUpO1xyXG4gICAgYXBpLmVkaXRQcm9maWxlKHsgbmFtZSwgZGVzY3JpcHRpb24gfSlcclxuICAgICAgLnRoZW4oKHVzZXJEYXRhKSA9PiB7XHJcbiAgICAgICAgdXNlclBhcmFtZXRlcnMuc2V0VXNlckluZm8odXNlckRhdGEpO1xyXG4gICAgICAgIHByb2ZpbGVFZGl0UG9wdXAuY2xvc2UoKVxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LAgJHtlcnJ9YCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICBwcm9maWxlRWRpdFBvcHVwLnRvZ2dsZVN0YXR1cyhmYWxzZSk7XHJcbiAgICAgIH0pO1xyXG4gICB9XHJcbiB9KTtcclxuIHByb2ZpbGVFZGl0UG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8v0L/QvtC/0LDQvyDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbmNvbnN0IHBvcHVwQWRkQ2FyZCA9IG5ldyBQb3B1cFdpdGhGb3JtKHsgXHJcbiAgcG9wdXBTZWxlY3RvcjogJy5wb3B1cF9hZGQtY2FyZCcsXHJcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKHsgZWxlbWVudFRpdGxlLCBlbGVtZW50TGluayB9KSA9PiB7XHJcbiAgICBwb3B1cEFkZENhcmQudG9nZ2xlU3RhdHVzKHRydWUpO1xyXG4gICAgYXBpLmFkZE5ld0VsZW1lbnQoeyBlbGVtZW50VGl0bGUsIGVsZW1lbnRMaW5rIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICBjYXJkTGlzdC5hZGRJdGVtKGNyZWF0ZUNhcmQocmVzKSk7XHJcbiAgICAgICAgcG9wdXBBZGRDYXJkLmNsb3NlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsCDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4OiAke2Vycn1gKTtcclxuICAgICAgfSlcclxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgIHBvcHVwQWRkQ2FyZC50b2dnbGVTdGF0dXMoZmFsc2UpXHJcbiAgICAgIH0pXHJcbiAgfVxyXG59KTtcclxucG9wdXBBZGRDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vL9C/0L7Qv9Cw0L8g0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQsNCy0LDRgtCw0YDQutC4XHJcbmNvbnN0IGF2YXRhckVkaXRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBwb3B1cFNlbGVjdG9yOiAnLnBvcHVwX2VkaXQtYXZhdGFyJyxcclxuICBoYW5kbGVGb3JtU3VibWl0OiAoeyBhdmF0YXIgfSkgPT4ge1xyXG4gICAgYXZhdGFyRWRpdFBvcHVwLnRvZ2dsZVN0YXR1cyh0cnVlKTtcclxuICAgIGFwaS5lZGl0QXZhdGFyKGF2YXRhcilcclxuICAgICAgLnRoZW4oKGxpbmspID0+IHtcclxuICAgICAgICB1c2VyUGFyYW1ldGVycy5zZXRVc2VySW5mbyhsaW5rKTtcclxuICAgICAgICBhdmF0YXJFZGl0UG9wdXAuY2xvc2UoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0LDQstCw0YLQsNGA0LA6ICR7ZXJyfWApO1xyXG4gICAgICB9KVxyXG4gICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgYXZhdGFyRWRpdFBvcHVwLnRvZ2dsZVN0YXR1cyhmYWxzZSk7XHJcbiAgICAgIH0pXHJcbiAgfVxyXG59KTtcclxuYXZhdGFyRWRpdFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vL9C/0L7Qv9Cw0L8g0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbmNvbnN0IHBvcHVwRGVsZXRlQ2FyZCA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oJy5wb3B1cF9kZWxldGUtY2FyZCcpO1xyXG5wb3B1cERlbGV0ZUNhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8v0L/QvtC/0LDQvyDRgSDQuNC30L7QsdGA0LDQttC10L3QuNC10LxcclxuY29uc3QgcG9wdXBDYXJkID0gbmV3IFBvcHVwV2l0aEltYWdlKCcucG9wdXBfY2FyZCcpO1xyXG5wb3B1cENhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8v0YHQvtC30LTQsNC90LjQtSDQutCw0YDRgtC+0YfQutC4XHJcbmNvbnN0IGNyZWF0ZUNhcmQgPSAoeyBsaWtlcywgX2lkLCBuYW1lLCBsaW5rLCBvd25lciB9KSA9PiB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKHtcclxuICAgIGxpa2VzLFxyXG4gICAgX2lkLFxyXG4gICAgbmFtZSxcclxuICAgIGxpbmssXHJcbiAgICBvd25lcixcclxuICAgIHVzZXJJZDogdXNlclBhcmFtZXRlcnMuZ2V0VXNlcklkKCksXHJcbiAgICBoYW5kbGVDYXJkQ2xpY2s6IChuYW1lLCBsaW5rKSA9PiB7XHJcbiAgICAgICAgcG9wdXBDYXJkLm9wZW4obmFtZSwgbGluayk7XHJcbiAgICB9LFxyXG5cclxuICAgIGRlbGV0ZUNhcmQ6IChjYXJkSWQpID0+IHtcclxuICAgICAgcG9wdXBEZWxldGVDYXJkLm9wZW4oKTtcclxuICAgICAgcG9wdXBEZWxldGVDYXJkLnNldENvbmZpcm1BY3Rpb24oKCkgPT4ge1xyXG4gICAgICAgIHBvcHVwRGVsZXRlQ2FyZC50b2dnbGVTdGF0dXModHJ1ZSk7XHJcbiAgICAgICAgYXBpLmRlbGV0ZUVsZW1lbnQoY2FyZElkKVxyXG4gICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgIGNhcmQuZGVsZXRlQ2FyZCgpO1xyXG4gICAgICAgICAgcG9wdXBEZWxldGVDYXJkLmNsb3NlKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsCDRg9C00LDQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60Lg6ICR7ZXJyfWApO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgcG9wdXBEZWxldGVDYXJkLnRvZ2dsZVN0YXR1cyhmYWxzZSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgXHJcblxyXG4gICAgaGFuZGxlQ2FyZExpa2U6ICgpID0+IHtcclxuICAgICAgY29uc3Qgc3RhdGVMaWtlID0gY2FyZC5nZXRMaWtlcygpXHJcbiAgICAgIC5maW5kKG93bmVyID0+IG93bmVyLl9pZCA9PT0gdXNlclBhcmFtZXRlcnMuX2lkKTtcclxuXHJcbiAgICAgIGlmKCFzdGF0ZUxpa2UpIHtcclxuICAgICAgICBhcGkuc2V0TGlrZShjYXJkLmdldElkKCkpXHJcbiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICBjYXJkLnJlbmRlckxpa2VzKHJlc3BvbnNlLmxpa2VzKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwINC/0L7RgdGC0LDQvdC+0LLQutC4INC70LDQudC60LA6ICR7ZXJyfWApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFwaS5yZW1vdmVMaWtlKGNhcmQuZ2V0SWQoKSlcclxuICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgIGNhcmQucmVuZGVyTGlrZXMocmVzcG9uc2UubGlrZXMpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsCDRg9C00LDQu9C10L3QuNGPINC70LDQudC60LA6ICR7ZXJyfWApO1xyXG4gICAgICB9KTtcclxuICAgICAgfSAgICAgICAgXHJcbiAgICB9LFxyXG4gIH0sICcudGVtcGxhdGUnKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIGNhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbn07XHJcblxyXG4vL9C+0YLRgNC40YHQvtCy0LrQsCDQutCw0YDRgtC+0YfQtdC6XHJcbmNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oe1xyXG4gIHJlbmRlcmVyOiAoaW5pdGlhbENhcmRzKSA9PiB7XHJcbiAgICBjYXJkTGlzdC5hZGRJdGVtKGNyZWF0ZUNhcmQoaW5pdGlhbENhcmRzKSk7XHJcbiAgfVxyXG59LCAnLmVsZW1lbnRzJyk7XHJcblxyXG5sZXQgbXlJZCA9ICcnO1xyXG5cclxuLy/Qv9C+0LvRg9GH0LjRgtGMINC40L3RhNC+INC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtSDQt9Cw0L/QvtC70L3QuNGC0Ywg0LTQsNC90L3Ri9C1INGBINGB0LXRgNCy0LXRgNCwXHJcblByb21pc2UuYWxsKFthcGkuZ2V0VXNlckluZm8oKSwgYXBpLmdldEluaXRpYWxDYXJkcygpXSlcclxuLnRoZW4oKFt1c2VyRGF0YSwgY2FyZHNdKSA9PiB7XHJcbiAgICBteUlkID0gdXNlckRhdGEuX2lkO1xyXG4gICAgdXNlclBhcmFtZXRlcnMuc2V0VXNlckluZm8odXNlckRhdGEpO1xyXG4gICAgY2FyZExpc3QucmVuZGVySXRlbXMoY2FyZHMpO1xyXG59KVxyXG4uY2F0Y2goKGVycikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsCAke2Vycn1gKVxyXG59KTtcclxuXHJcbi8v0YHQu9GD0YjQsNGC0LXQu9C4INC+0YLQutGC0YDRi9GC0LjRjyDQv9C+0L/QsNC/0L7QslxyXG5idXR0b25Qcm9maWxlUG9wdXBPcGVuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblBvcHVwUHJvZmlsZSk7XHJcbmJ1dHRvbkF2YXRhclBvcHVwT3Blbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5BdmF0YXJQb3B1cCk7XHJcbmJ1dHRvbkFkZENhcmRQb3B1cE9wZW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuTmV3Q2FyZFBvcHVwKTtcclxuICBcclxuLy/QstCw0LvQuNC00LDRhtC40Y8g0YTQvtGA0Lwg0L/QvtC/0LDQv9C+0LJcclxuY29uc3QgcG9wdXBQcm9maWxlVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIHByb2ZpbGVQb3B1cCk7IFxyXG5wb3B1cFByb2ZpbGVWYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IHBvcHVwQXZhdGFyVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIGF2YXRhclBvcHVwKTtcclxucG9wdXBBdmF0YXJWYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IHBvcHVwQWRkQ2FyZFZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBuZXdDYXJkUG9wdXApOyBcclxucG9wdXBBZGRDYXJkVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiJdLCJuYW1lcyI6WyJ2YWxpZGF0aW9uQ29uZmlnIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJidXR0b25Qcm9maWxlUG9wdXBPcGVuIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImJ1dHRvbkF2YXRhclBvcHVwT3BlbiIsInF1ZXJ5U2VsZWN0b3IiLCJidXR0b25BZGRDYXJkUG9wdXBPcGVuIiwibmFtZUlucHV0IiwiZGVzY3JpcHRpb25JbnB1dCIsInByb2ZpbGVQb3B1cCIsImF2YXRhclBvcHVwIiwibmV3Q2FyZFBvcHVwIiwiQ2FyZCIsInRlbXBsYXRlU2VsZWN0b3IiLCJsaWtlcyIsIl9pZCIsIm5hbWUiLCJsaW5rIiwib3duZXIiLCJ1c2VySWQiLCJoYW5kbGVDYXJkQ2xpY2siLCJkZWxldGVDYXJkIiwiaGFuZGxlQ2FyZExpa2UiLCJ0aGlzIiwiX2xpa2VzTWFzc2l2ZSIsIl9jYXJkSWQiLCJfbmFtZSIsIl9saW5rIiwiX293bmVySWQiLCJfY3VycmVudFVzZXJJZCIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfZGVsZXRlQ2FyZCIsIl9oYW5kbGVDYXJkTGlrZSIsIl90ZW1wbGF0ZVNlbGVjdG9yIiwiX2RlbGV0ZUJ1dHRvbiIsInJlbW92ZSIsImZpbmQiLCJfbGlrZXNBbW91bnQiLCJ0ZXh0Q29udGVudCIsImxlbmd0aCIsInNldExpa2VzIiwiX3Nob3dMaWtlc0Ftb3VudCIsIl9pc0l0TGlrZWQiLCJfbGlrZUJ1dHRvbiIsImNsYXNzTGlzdCIsImFkZCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsIl9lbGVtZW50SW1hZ2UiLCJfZWxlbWVudFRpdGxlIiwic3JjIiwiYWx0IiwiX2NoZWNrQ2FyZE93bmVyIiwicmVuZGVyTGlrZXMiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJ0b2dnbGUiLCJhZGRFdmVudExpc3RlbmVyIiwiRm9ybVZhbGlkYXRvciIsImNsYXNzZXMiLCJmb3JtRWxlbWVudCIsIl9pbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJfZm9ybUVsZW1lbnQiLCJfYnV0dG9uRWxlbWVudCIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfc2hvd0lucHV0RXJyb3IiLCJzb21lIiwiZGlzYWJsZWQiLCJfaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZVN1Ym1pdEJ1dHRvbiIsIl9lbmFibGVTdWJtaXRCdXR0b24iLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJmb3JFYWNoIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW1zIiwicmV2ZXJzZSIsIml0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsIlVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiZGVzY3JpcHRpb25TZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX2Rlc2NyaXB0aW9uIiwiX2F2YXRhciIsImRlc2NyaXB0aW9uIiwiYXZhdGFyIiwiYWJvdXQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImtleSIsImNsb3NlIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsIl9wb3B1cENsb3NlQnV0dG9uIiwiX2hhbmRsZU92ZXJsYXlDbG9zZSIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfZm9ybSIsIl9idXR0b25Qb3B1cFN1Ym1pdCIsIl9mb3JtTGlzdCIsImlucHV0IiwidmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsImlzTG9hZGluZyIsInJlc2V0IiwiUG9wdXBXaXRoSW1hZ2UiLCJfaW1hZ2UiLCJfZGVzY3JpcHRpb25JbWFnZSIsIkFwaSIsInVybCIsImhlYWRlcnMiLCJfdXJsIiwiX2hlYWRlcnMiLCJmZXRjaCIsIm1ldGhvZCIsInRoZW4iLCJfY2hlY2tSZXNwb25zZSIsImRhdGEiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNhcmREYXRhIiwiZWxlbWVudFRpdGxlIiwiZWxlbWVudExpbmsiLCJyZXNwb25zZSIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJQb3B1cFdpdGhDb25maXJtYXRpb24iLCJfcG9wdXBCdXR0b24iLCJjYWxsYmFjayIsIl9jb25maXJtRGVsZXRlQ2FsbGJhY2siLCJhcGkiLCJhdXRob3JpemF0aW9uIiwidXNlclBhcmFtZXRlcnMiLCJwcm9maWxlRWRpdFBvcHVwIiwidG9nZ2xlU3RhdHVzIiwiZWRpdFByb2ZpbGUiLCJ1c2VyRGF0YSIsInNldFVzZXJJbmZvIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiZmluYWxseSIsInNldEV2ZW50TGlzdGVuZXJzIiwicG9wdXBBZGRDYXJkIiwiYWRkTmV3RWxlbWVudCIsInJlcyIsImNhcmRMaXN0IiwiYWRkSXRlbSIsImNyZWF0ZUNhcmQiLCJhdmF0YXJFZGl0UG9wdXAiLCJlZGl0QXZhdGFyIiwicG9wdXBEZWxldGVDYXJkIiwicG9wdXBDYXJkIiwiY2FyZCIsImdldFVzZXJJZCIsIm9wZW4iLCJjYXJkSWQiLCJzZXRDb25maXJtQWN0aW9uIiwiZGVsZXRlRWxlbWVudCIsInN0YXRlTGlrZSIsImdldExpa2VzIiwicmVtb3ZlTGlrZSIsImdldElkIiwic2V0TGlrZSIsImdlbmVyYXRlQ2FyZCIsImluaXRpYWxDYXJkcyIsImFsbCIsImdldFVzZXJJbmZvIiwiZ2V0SW5pdGlhbENhcmRzIiwiY2FyZHMiLCJyZW5kZXJJdGVtcyIsInByb2ZpbGVGb3JtIiwicG9wdXBQcm9maWxlVmFsaWRhdGlvbiIsInJlc2V0RXJyb3JzIiwicG9wdXBBdmF0YXJWYWxpZGF0aW9uIiwicG9wdXBBZGRDYXJkVmFsaWRhdGlvbiIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9