(()=>{"use strict";var e={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},t=document.getElementById("open_popup"),n=document.querySelector(".profile__button-add"),r=document.querySelector(".popup__input_name"),o=document.querySelector(".popup__input_description"),i=document.querySelector(".popup_edit-profile"),u=document.querySelector(".popup_add-card");function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t,n){var r=t.cardData,o=t.handleCardClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._cardData=r,this._name=r.name,this._link=r.link,this._handleCardClick=o,this._templateSelector=n}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".element").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._likeButton=this._element.querySelector(".element__main-like"),this._elementImage=this._element.querySelector(".element__image"),this._elementImage.src=this._link,this._elementImage.alt=this._name,this._element.querySelector(".element__main-name").textContent=this._name,this._setEventListeners(),this._element}},{key:"_toggleLike",value:function(){this._likeButton.classList.toggle("like_active")}},{key:"_deleteCard",value:function(){this._element.remove(),this._element=null}},{key:"_setEventListeners",value:function(){var e=this;this._likeButton.addEventListener("click",(function(){return e._toggleLike()})),this._element.querySelector(".element__delete").addEventListener("click",(function(){return e._deleteCard()})),this._elementImage.addEventListener("click",(function(){e._handleCardClick(e._name,e._link)}))}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._formElement=n,this._buttonElement=this._formElement.querySelector(this._submitButtonSelector),this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector))}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e,t){var n=this._formElement.querySelector(".".concat(e.id,"-error"));console.log(n),e.classList.add(this._inputErrorClass),n.textContent=t,n.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}},{key:"_checkInputValidity",value:function(e){if(e.validity.valid)this._hideInputError(e);else{var t=e.validationMessage;this._showInputError(e,t)}}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"disableSubmitButton",value:function(){this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0}},{key:"_enableSubmitButton",value:function(){this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this.disableSubmitButton():this._enableSubmitButton()}},{key:"_setEventListeners",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"resetErrors",value:function(){var e=this;this._inputList.forEach((function(t){e._hideInputError(t)}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._items.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&p(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(t){var n=t.nameSelector,r=t.descriptionSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._description=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,description:this._description.textContent}}},{key:"setUserInfo",value:function(e){this._name.textContent=e.popup_name,this._description.textContent=e.popup_description}}])&&_(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_active"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_active"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"_handleOverlayClose",value:function(e){e.target===e.currentTarget&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupCloseButton=this._popup.querySelector(".popup__close-icon"),this._popupCloseButton.addEventListener("click",(function(){e.close()})),this._popup.addEventListener("mousedown",(function(t){e._handleOverlayClose(t)}))}}])&&h(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(){return b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=g(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},b.apply(this,arguments)}function g(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function k(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(r);if(o){var n=w(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return k(this,e)});function u(e){var t,n=e.popupSelector,r=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,n))._handleFormSubmit=r,t._form=t._popup.querySelector(".popup__form"),t._buttonPopupSubmit=t._form.querySelector(".popup__button"),t._inputList=t._form.querySelectorAll(".popup__input"),t}return t=u,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formList={},this._inputList.forEach((function(t){e._formList[t.name]=t.value})),this._formList}},{key:"setEventListeners",value:function(){var e=this;b(w(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())}))}},{key:"close",value:function(){b(w(u.prototype),"close",this).call(this),this._form.reset()}}])&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(m);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(){return j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=L(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},j.apply(this,arguments)}function L(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=B(e)););return e}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function I(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}var q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=B(r);if(o){var n=B(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return I(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._image=t._popup.querySelector(".popup__image"),t._descriptionImage=t._popup.querySelector(".popup__description"),t}return t=u,(n=[{key:"open",value:function(e,t){j(B(u.prototype),"open",this).call(this),this._image.src=t,this._image.alt=e,this._descriptionImage.textContent=e}}])&&O(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(m),R=new E({popupSelector:".popup_edit-profile",handleFormSubmit:function(e){var t=e.popup_name,n=e.popup_description;x.setUserInfo({popup_name:t,popup_description:n}),R.close()}});R.setEventListeners();var x=new d({nameSelector:".profile__info-name",descriptionSelector:".profile__info-description"}),T=new E({popupSelector:".popup_add-card",handleFormSubmit:function(e){F.addItem(V(e)),T.close()}});T.setEventListeners();var D=new q(".popup_card");D.setEventListeners();var V=function(e){return new s({cardData:e,handleCardClick:function(e,t){D.open(e,t)}},".template").generateCard()},F=new f({items:[{name:"Татуин",link:"https://img4.goodfon.com/wallpaper/nbig/3/ec/return-to-tatooine-robot-sushchestva-postroiki.jpg"},{name:"Джеонозис",link:"https://gameranx.com/wp-content/uploads/2018/11/databank_geonosis_01_169_1d04e086-720x360.jpg"},{name:"Корусант",link:"https://static1.cbrimages.com/wordpress/wp-content/uploads/2017/02/Star-Wars-Coruscant.jpg"},{name:"Мустафар",link:"https://www.centax.ru/images/movies/rogue/mustafar-landscape-big.jpeg"},{name:"Звезда смерти",link:"https://images.alphacoders.com/107/107763.jpg"},{name:"Эндор",link:"https://34travel.me/media/upload/images/2019/december/star-wars/1a.jpg"}],renderer:function(e){F.addItem(V(e))}},".elements");F.renderItems(),t.addEventListener("click",(function(){R.open(),U.resetErrors(),U.disableSubmitButton();var e=x.getUserInfo();r.value=e.name,o.value=e.description})),n.addEventListener("click",(function(){T.open(),A.resetErrors(),A.disableSubmitButton()}));var U=new l(e,i);U.enableValidation();var A=new l(e,u);A.enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ekIsQ0FDRXpELEtBQU0sU0FDTkUsS0FBTSxtR0FFUixDQUNFRixLQUFNLFlBQ05FLEtBQU0saUdBRVIsQ0FDRUYsS0FBTSxXQUNORSxLQUFNLDhGQUVSLENBQ0VGLEtBQU0sV0FDTkUsS0FBTSx5RUFFUixDQUNFRixLQUFNLGdCQUNORSxLQUFNLGlEQUVSLENBQ0VGLEtBQU0sUUFDTkUsS0FBTSwyRVFxQ1Z3RCxTQUFVLFNBQUNJLEdBQ1QyQyxFQUFTQyxRQUFRQyxFQUFXN0MsR0FDOUIsR0FDQyxhQUVIMkMsRUFBU00sY0FHVC9ILEVBQXVCa0MsaUJBQWlCLFNBcER4QyxXQUNFa0YsRUFBaUJTLE9BQ2pCRyxFQUF1QkMsY0FDdkJELEVBQXVCOUQsc0JBQ3ZCLElBQU1nRSxFQUFjYixFQUFlYyxjQUNuQzlILEVBQVV3RyxNQUFRcUIsRUFBWWxILEtBQzlCVixFQUFpQnVHLE1BQVFxQixFQUFZN0MsV0FDdkMsSUE4Q0FsRixFQUF1QitCLGlCQUFpQixTQWpDeEMsV0FDRXNGLEVBQWFLLE9BQ2JPLEVBQXVCSCxjQUN2QkcsRUFBdUJsRSxxQkFDekIsSUFnQ0EsSUFBTThELEVBQXlCLElBQUkzRixFQUFjNUMsRUFBa0JjLEdBQ25FeUgsRUFBdUJLLG1CQUV2QixJQUFNRCxFQUF5QixJQUFJL0YsRUFBYzVDLEVBQWtCZSxHQUNuRTRILEVBQXVCQyxrQiIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25Db25maWcgPSAoe1xyXG4gICAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19mb3JtJyxcclxuICAgIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2lucHV0JyxcclxuICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLnBvcHVwX19idXR0b24nLFxyXG4gICAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19idXR0b25fZGlzYWJsZWQnLFxyXG4gICAgaW5wdXRFcnJvckNsYXNzOiAncG9wdXBfX2lucHV0X3R5cGVfZXJyb3InLFxyXG4gICAgZXJyb3JDbGFzczogJ3BvcHVwX19lcnJvcl92aXNpYmxlJ1xyXG59KTsgXHJcblxyXG5leHBvcnQgIGNvbnN0IGluaXRpYWxDYXJkcyA9IFsgXHJcbiAgICB7IFxyXG4gICAgICBuYW1lOiAn0KLQsNGC0YPQuNC9JywgXHJcbiAgICAgIGxpbms6ICdodHRwczovL2ltZzQuZ29vZGZvbi5jb20vd2FsbHBhcGVyL25iaWcvMy9lYy9yZXR1cm4tdG8tdGF0b29pbmUtcm9ib3Qtc3VzaGNoZXN0dmEtcG9zdHJvaWtpLmpwZycgXHJcbiAgICB9LCBcclxuICAgIHsgXHJcbiAgICAgIG5hbWU6ICfQlNC20LXQvtC90L7Qt9C40YEnLCBcclxuICAgICAgbGluazogJ2h0dHBzOi8vZ2FtZXJhbnguY29tL3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDE4LzExL2RhdGFiYW5rX2dlb25vc2lzXzAxXzE2OV8xZDA0ZTA4Ni03MjB4MzYwLmpwZycgXHJcbiAgICB9LCBcclxuICAgIHsgXHJcbiAgICAgIG5hbWU6ICfQmtC+0YDRg9GB0LDQvdGCJywgXHJcbiAgICAgIGxpbms6ICdodHRwczovL3N0YXRpYzEuY2JyaW1hZ2VzLmNvbS93b3JkcHJlc3Mvd3AtY29udGVudC91cGxvYWRzLzIwMTcvMDIvU3Rhci1XYXJzLUNvcnVzY2FudC5qcGcnIFxyXG4gICAgfSwgXHJcbiAgICB7IFxyXG4gICAgICBuYW1lOiAn0JzRg9GB0YLQsNGE0LDRgCcsIFxyXG4gICAgICBsaW5rOiAnaHR0cHM6Ly93d3cuY2VudGF4LnJ1L2ltYWdlcy9tb3ZpZXMvcm9ndWUvbXVzdGFmYXItbGFuZHNjYXBlLWJpZy5qcGVnJyBcclxuICAgIH0sIFxyXG4gICAgeyBcclxuICAgICAgbmFtZTogJ9CX0LLQtdC30LTQsCDRgdC80LXRgNGC0LgnLCBcclxuICAgICAgbGluazogJ2h0dHBzOi8vaW1hZ2VzLmFscGhhY29kZXJzLmNvbS8xMDcvMTA3NzYzLmpwZycgXHJcbiAgICAgIH0sIFxyXG4gICAgeyBcclxuICAgICAgbmFtZTogJ9Ct0L3QtNC+0YAnLCBcclxuICAgICAgbGluazogJ2h0dHBzOi8vMzR0cmF2ZWwubWUvbWVkaWEvdXBsb2FkL2ltYWdlcy8yMDE5L2RlY2VtYmVyL3N0YXItd2Fycy8xYS5qcGcnIFxyXG4gICAgfSBcclxuICBdOyBcclxuXHJcbmV4cG9ydCBjb25zdCBidXR0b25Qcm9maWxlUG9wdXBPcGVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wZW5fcG9wdXAnKTtcclxuZXhwb3J0IGNvbnN0IGJ1dHRvbkFkZENhcmRQb3B1cE9wZW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYnV0dG9uLWFkZCcpO1xyXG5leHBvcnQgY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF9uYW1lJyk7XHJcbmV4cG9ydCBjb25zdCBkZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF9kZXNjcmlwdGlvbicpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZVBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2VkaXQtcHJvZmlsZScpO1xyXG5leHBvcnQgY29uc3QgbmV3Q2FyZFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2FkZC1jYXJkJyk7IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IGNhcmREYXRhLCBoYW5kbGVDYXJkQ2xpY2sgfSwgdGVtcGxhdGVTZWxlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuX2NhcmREYXRhID0gY2FyZERhdGE7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IGNhcmREYXRhLm5hbWU7XHJcbiAgICAgICAgdGhpcy5fbGluayA9IGNhcmREYXRhLmxpbms7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xyXG4gICAgICAgIHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IgPSB0ZW1wbGF0ZVNlbGVjdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIC8v0LHQtdGA0LXQvCDRiNCw0LHQu9C+0L1cclxuICAgIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgICAgICByZXR1cm4gZG9jdW1lbnRcclxuICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVTZWxlY3RvcilcclxuICAgICAgICAgICAgLmNvbnRlbnRcclxuICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50JylcclxuICAgICAgICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICAvL9Cz0LXQvdC10YDQsNGG0LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbiAgICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX21haW4tbGlrZScpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2ltYWdlJyk7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbWFpbi1uYW1lJykudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG5cclxuICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8v0L/QtdGA0LXQutC70Y7Rh9C10L3QuNC1INC70LDQudC60LBcclxuICAgIF90b2dnbGVMaWtlKCkge1xyXG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZSgnbGlrZV9hY3RpdmUnKTtcclxuICAgIH1cclxuXHJcbiAgICAvL9GD0LTQsNC70LXQvdC40LUg0LrQsNGA0YLQvtGH0LrQuFxyXG4gICAgX2RlbGV0ZUNhcmQoKSB7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvL9GD0YHRgtCw0L3QvtCy0LjRgtGMINGB0LvRg9GI0LDRgtC10LvQuFxyXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl90b2dnbGVMaWtlKCkpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2RlbGV0ZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5fZGVsZXRlQ2FyZCgpKTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50SW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn07IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihjbGFzc2VzLCBmb3JtRWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjbGFzc2VzLmlucHV0U2VsZWN0b3I7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBjbGFzc2VzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBjbGFzc2VzLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICAgICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gY2xhc3Nlcy5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICAgICAgdGhpcy5fZXJyb3JDbGFzcyA9IGNsYXNzZXMuZXJyb3JDbGFzcztcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50OyBcclxuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpKTtcclxuICAgIH1cclxuXHJcbiAgICAvL9C/0L7QutCw0LfQsNGC0Ywg0L7RiNC40LHQutGDXHJcbiAgICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpICB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yRWxlbWVudCk7XHJcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbiAgICAgICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8v0YHQutGA0YvRgtGMXHJcbiAgICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICAgICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICAgICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XHJcbiAgICB9O1xyXG5cclxuICAgIC8v0L/RgNC+0LLQtdGA0L/QuNGC0Ywg0LLQsNC70LjQtNC90L7RgdGC0YxcclxuICAgIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSAge1xyXG4gICAgICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICAgICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvL9C/0YDQvtCy0LXRgNC40YLRjCDQvdCw0LvQuNGH0LjQtSDQvdC10LLQsNC70LjQtNC90YvRhSDQv9C+0LvQtdC5XHJcbiAgICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLy/QutC90L7Qv9C60LAg0L3QtdCw0LrRgtC40LLQvdCwXHJcbiAgICBkaXNhYmxlU3VibWl0QnV0dG9uKCkge1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIH07XHJcblxyXG4gICAgLy/QutC90L7Qv9C60LAg0LDQutGC0LjQstC90LBcclxuICAgIF9lbmFibGVTdWJtaXRCdXR0b24oKSB7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH07IFxyXG4gICAgXHJcbiAgICAvL9C/0LXRgNC10LrQu9GO0YfQtdC90LjQtSDQutC90L7Qv9C60LhcclxuICAgIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5kaXNhYmxlU3VibWl0QnV0dG9uKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fZW5hYmxlU3VibWl0QnV0dG9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8v0YPRgdGC0LDQvdC+0LLQuNGC0Ywg0YHQu9GD0YjQsNGC0LXQu9C4XHJcbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMgKCkge1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKClcclxuXHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/RgdCx0YDQvtGB0LjRgtGMINC+0YjQuNCx0LrQuFxyXG4gICAgcmVzZXRFcnJvcnMoKSB7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgICB9XHJcbn07IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gICAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIGRlc2NyaXB0aW9uU2VsZWN0b3IgfSkge1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fZGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRlc2NyaXB0aW9uU2VsZWN0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFVzZXJJbmZvKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLl9kZXNjcmlwdGlvbi50ZXh0Q29udGVudFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXNlckluZm8odXNlckluZm8pIHtcclxuICAgICAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gdXNlckluZm8ucG9wdXBfbmFtZTtcclxuICAgICAgICB0aGlzLl9kZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IHVzZXJJbmZvLnBvcHVwX2Rlc2NyaXB0aW9uO1xyXG4gICAgfVxyXG59OyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBvcGVuKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX2FjdGl2ZScpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfYWN0aXZlJyk7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIH1cclxuXHJcbiAgICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XHJcbiAgICAgICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIF9oYW5kbGVPdmVybGF5Q2xvc2UoZXZ0KSB7XHJcbiAgICAgICAgaWYgKGV2dC50YXJnZXQgPT09IGV2dC5jdXJyZW50VGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBDbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2UtaWNvbicpO1xyXG5cclxuICAgICAgICB0aGlzLl9wb3B1cENsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVPdmVybGF5Q2xvc2UoZXZ0KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufTsiLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXB7XHJcbiAgICBjb25zdHJ1Y3RvciAoeyBwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0IH0pIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuXHJcbiAgICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcblxyXG4gICAgICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTsgXHJcbiAgICAgICAgdGhpcy5fYnV0dG9uUG9wdXBTdWJtaXQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uJyk7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgICAgIHRoaXMuX2Zvcm1MaXN0ID0ge307XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Zvcm1MaXN0W2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9mb3JtTGlzdDtcclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpe1xyXG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZSgpe1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKClcclxuXHJcbiAgICAgICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gICAgfVxyXG59OyIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXB7XHJcbiAgICBjb25zdHJ1Y3RvciAocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG5cclxuICAgICAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UnKTtcclxuICAgICAgICB0aGlzLl9kZXNjcmlwdGlvbkltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19kZXNjcmlwdGlvbicpO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIG9wZW4obmFtZSwgbGluayl7XHJcbiAgICAgICAgc3VwZXIub3BlbigpXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5faW1hZ2Uuc3JjID0gbGluaztcclxuICAgICAgICB0aGlzLl9pbWFnZS5hbHQgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uSW1hZ2UudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgfVxyXG59OyIsImltcG9ydCB7IHZhbGlkYXRpb25Db25maWcsIGluaXRpYWxDYXJkcywgYnV0dG9uUHJvZmlsZVBvcHVwT3BlbiwgYnV0dG9uQWRkQ2FyZFBvcHVwT3BlbiwgbmFtZUlucHV0LCBkZXNjcmlwdGlvbklucHV0LCBwcm9maWxlUG9wdXAsIG5ld0NhcmRQb3B1cH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcclxuaW1wb3J0IENhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkLmpzJztcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uJztcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8nO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XHJcbmltcG9ydCAnLi9pbmRleC5jc3MnO1xyXG5cclxuLy/Qv9C+0L/QsNC/INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y9cclxuY29uc3QgcG9wdXBFZGl0UHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKHsgXHJcbiAgcG9wdXBTZWxlY3RvcjogJy5wb3B1cF9lZGl0LXByb2ZpbGUnLFxyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6ICh7IHBvcHVwX25hbWUsIHBvcHVwX2Rlc2NyaXB0aW9uIH0pID0+IHtcclxuICAgIHVzZXJQYXJhbWV0ZXJzLnNldFVzZXJJbmZvKHsgcG9wdXBfbmFtZSwgcG9wdXBfZGVzY3JpcHRpb24gfSk7XHJcbiAgICBwb3B1cEVkaXRQcm9maWxlLmNsb3NlKCk7XHJcbiAgIH1cclxuIH0pO1xyXG4gcG9wdXBFZGl0UHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuIGNvbnN0IHVzZXJQYXJhbWV0ZXJzID0gbmV3IFVzZXJJbmZvICh7XHJcbiAgbmFtZVNlbGVjdG9yOiAnLnByb2ZpbGVfX2luZm8tbmFtZScsXHJcbiAgZGVzY3JpcHRpb25TZWxlY3RvcjogJy5wcm9maWxlX19pbmZvLWRlc2NyaXB0aW9uJyxcclxufSk7XHJcblxyXG4vL9GE0YPQvdC60YbQuNGPINC+0YLQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwINC/0YDQvtGE0LjQu9GPXHJcbmZ1bmN0aW9uIG9wZW5Qb3B1cFByb2ZpbGUoKSB7XHJcbiAgcG9wdXBFZGl0UHJvZmlsZS5vcGVuKCk7XHJcbiAgcG9wdXBQcm9maWxlVmFsaWRhdGlvbi5yZXNldEVycm9ycygpO1xyXG4gIHBvcHVwUHJvZmlsZVZhbGlkYXRpb24uZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gIGNvbnN0IHByb2ZpbGVGb3JtID0gdXNlclBhcmFtZXRlcnMuZ2V0VXNlckluZm8oKTtcclxuICBuYW1lSW5wdXQudmFsdWUgPSBwcm9maWxlRm9ybS5uYW1lO1xyXG4gIGRlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBwcm9maWxlRm9ybS5kZXNjcmlwdGlvbjtcclxufTtcclxuXHJcbiAvL9C/0L7Qv9Cw0L8g0LTQvtCx0LDQstC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFxyXG5jb25zdCBwb3B1cEFkZENhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybSh7IFxyXG4gIHBvcHVwU2VsZWN0b3I6ICcucG9wdXBfYWRkLWNhcmQnLFxyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChjYXJkRGF0YSkgPT4ge1xyXG4gICAgY2FyZExpc3QuYWRkSXRlbShjcmVhdGVDYXJkKGNhcmREYXRhKSk7XHJcbiAgICBwb3B1cEFkZENhcmQuY2xvc2UoKVxyXG4gIH1cclxufSk7XHJcbnBvcHVwQWRkQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy/RhNGD0L3QutGG0LjRjyDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbmZ1bmN0aW9uIG9wZW5OZXdDYXJkUG9wdXAoKSB7XHJcbiAgcG9wdXBBZGRDYXJkLm9wZW4oKTtcclxuICBwb3B1cEFkZENhcmRWYWxpZGF0aW9uLnJlc2V0RXJyb3JzKCk7XHJcbiAgcG9wdXBBZGRDYXJkVmFsaWRhdGlvbi5kaXNhYmxlU3VibWl0QnV0dG9uKCk7XHJcbn07XHJcblxyXG4vL9C+0YLQutGA0YvRgtGMINC/0L7Qv9Cw0L8g0YEg0LjQt9C+0LHRgNCw0LbQtdC90LjQtdC8XHJcbmNvbnN0IHBvcHVwQ2FyZCA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnLnBvcHVwX2NhcmQnKTtcclxucG9wdXBDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vL9GB0L7Qt9C00LDQvdC40LUg0LrQsNGA0YLQvtGH0LrQuFxyXG5jb25zdCBjcmVhdGVDYXJkID0gKGNhcmREYXRhKSA9PiB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKHtcclxuICAgIGNhcmREYXRhOiBjYXJkRGF0YSxcclxuICAgIGhhbmRsZUNhcmRDbGljazogKG5hbWUsIGxpbmspID0+IHtcclxuICAgICAgcG9wdXBDYXJkLm9wZW4obmFtZSwgbGluayk7XHJcbiAgICB9fSwgJy50ZW1wbGF0ZScpO1xyXG5cclxuICAgIHJldHVybiBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG59O1xyXG5cclxuLy/QvtGC0YDQuNGB0L7QstC60LAg0LrQsNGA0YLQvtGH0LXQulxyXG5jb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKHtcclxuICBpdGVtczogaW5pdGlhbENhcmRzLFxyXG4gIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgY2FyZExpc3QuYWRkSXRlbShjcmVhdGVDYXJkKGl0ZW0pKTtcclxuICB9XHJcbn0sICcuZWxlbWVudHMnKTtcclxuXHJcbmNhcmRMaXN0LnJlbmRlckl0ZW1zKCk7XHJcblxyXG4vL9GB0LvRg9GI0LDRgtC10LvQuFxyXG5idXR0b25Qcm9maWxlUG9wdXBPcGVuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblBvcHVwUHJvZmlsZSk7XHJcbmJ1dHRvbkFkZENhcmRQb3B1cE9wZW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuTmV3Q2FyZFBvcHVwKTtcclxuICBcclxuLy/QstCw0LvQuNC00LDRhtC40Y8gXHJcbmNvbnN0IHBvcHVwUHJvZmlsZVZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBwcm9maWxlUG9wdXApOyBcclxucG9wdXBQcm9maWxlVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCBwb3B1cEFkZENhcmRWYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgbmV3Q2FyZFBvcHVwKTsgXHJcbnBvcHVwQWRkQ2FyZFZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4iXSwibmFtZXMiOlsidmFsaWRhdGlvbkNvbmZpZyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiYnV0dG9uUHJvZmlsZVBvcHVwT3BlbiIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJidXR0b25BZGRDYXJkUG9wdXBPcGVuIiwicXVlcnlTZWxlY3RvciIsIm5hbWVJbnB1dCIsImRlc2NyaXB0aW9uSW5wdXQiLCJwcm9maWxlUG9wdXAiLCJuZXdDYXJkUG9wdXAiLCJDYXJkIiwidGVtcGxhdGVTZWxlY3RvciIsImNhcmREYXRhIiwiaGFuZGxlQ2FyZENsaWNrIiwidGhpcyIsIl9jYXJkRGF0YSIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfdGVtcGxhdGVTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsIl9saWtlQnV0dG9uIiwiX2VsZW1lbnRJbWFnZSIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwicmVtb3ZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl90b2dnbGVMaWtlIiwiX2RlbGV0ZUNhcmQiLCJGb3JtVmFsaWRhdG9yIiwiY2xhc3NlcyIsImZvcm1FbGVtZW50IiwiX2lucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsIl9mb3JtRWxlbWVudCIsIl9idXR0b25FbGVtZW50IiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJpZCIsImNvbnNvbGUiLCJsb2ciLCJhZGQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfc2hvd0lucHV0RXJyb3IiLCJzb21lIiwiZGlzYWJsZWQiLCJfaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZVN1Ym1pdEJ1dHRvbiIsIl9lbmFibGVTdWJtaXRCdXR0b24iLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJmb3JFYWNoIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJkZXNjcmlwdGlvblNlbGVjdG9yIiwiX2Rlc2NyaXB0aW9uIiwiZGVzY3JpcHRpb24iLCJ1c2VySW5mbyIsInBvcHVwX25hbWUiLCJwb3B1cF9kZXNjcmlwdGlvbiIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5IiwiY2xvc2UiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiX3BvcHVwQ2xvc2VCdXR0b24iLCJfaGFuZGxlT3ZlcmxheUNsb3NlIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9mb3JtIiwiX2J1dHRvblBvcHVwU3VibWl0IiwiX2Zvcm1MaXN0IiwiaW5wdXQiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJQb3B1cFdpdGhJbWFnZSIsIl9pbWFnZSIsIl9kZXNjcmlwdGlvbkltYWdlIiwicG9wdXBFZGl0UHJvZmlsZSIsInVzZXJQYXJhbWV0ZXJzIiwic2V0VXNlckluZm8iLCJzZXRFdmVudExpc3RlbmVycyIsInBvcHVwQWRkQ2FyZCIsImNhcmRMaXN0IiwiYWRkSXRlbSIsImNyZWF0ZUNhcmQiLCJwb3B1cENhcmQiLCJvcGVuIiwiZ2VuZXJhdGVDYXJkIiwicmVuZGVySXRlbXMiLCJwb3B1cFByb2ZpbGVWYWxpZGF0aW9uIiwicmVzZXRFcnJvcnMiLCJwcm9maWxlRm9ybSIsImdldFVzZXJJbmZvIiwicG9wdXBBZGRDYXJkVmFsaWRhdGlvbiIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9